# vue中scoped

### 问题来源

vue项目是组件套组件，很容易出现上层组件中的css命名不小心和下层组件冲突造成样式混乱，为了解决冲突的问题，vue设置了一个style关键词**scoped**,将自己组件内了css仅自己可见。

### 实现原理

通过观察vue项目的DOM结构可以发现，vue会通过在DOM上加上具有唯一性的属性 **data-v-***,再将css添加类似的标志位。

```css
button[data-v-*]{
 color:000;
}
```

这样就达到了样式私有化，不污染其他页面的作用。

总结：

+ vue会给DOM添加唯一标志位
+ 在添加了**scoped**属性的样式后添加一个相同标志位的选择器，实现类似于作用域的功能，即能使用，又不互相影响。

### 缺点

+ 父组件无**scoped**属性，子组件使用**scoped**，那么父组件是没有办法直接控制子组件的样式。
+ 父组件有**scoped**属性，子组件无**scoped**属性，父组件也同样没有办法直接控制子组件样式。
+ /deep/ 深度选择器会无效。

### 解决办法

可以将私有css写入**scoped**，将可能会覆盖的css使用普通style标签---vue组件支持多个style标签